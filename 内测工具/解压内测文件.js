let FileSelector=fs();function fs(){function _0x258b94(_0x203d86){return new java['io']['File'](_0x203d86)['parent'];}function _0x2915bf(_0x45924f){this['data']=[],this['selectedPos']=-0x1,this['options']=_0x45924f,this['view']=this['renderView']();}function _0x18d3f3(_0x1365fd){this['options']=Object['assign']({},_0x1365fd),this['fillOptions']();}return _0x2915bf['prototype']['renderView']=function(){var _0x416181=ui['inflate'](this['xml']);return _0x416181['fileList']['on']('item_bind',(_0x47cf16,_0x15cd86)=>{_0x47cf16['checkbox']['on']('check',_0x383fcd=>{var _0x1ba02d=_0x15cd86['position'];_0x383fcd?this['selectFile'](_0x1ba02d):this['unselectFile'](_0x1ba02d);});}),_0x416181['fileList']['on']('item_click',(_0x291205,_0x5b3783,_0x2015cc)=>{'..'==_0x291205['fileName']?this['up']():_0x291205['isDir']?this['setCurrentDir'](files['join'](this['currentDir'],_0x291205['fileName'])):_0x2015cc['checkbox']['toggle']();}),_0x416181;},_0x2915bf['prototype']['xml']='<vertical><list\x20id=\x22fileList\x22><horizontal\x20w=\x22*\x22><checkbox\x20id=\x22checkbox\x22\x20visibility=\x22{{this.checkable\x20?\x20\x27visible\x27\x20:\x20\x27gone\x27}}\x22\x20checked=\x22{{this.checked}}\x22\x20/><img\x20src=\x22@drawable/{{this.icon}}\x22\x20w=\x2240dp\x22\x20h=\x2240dp\x22\x20scaleType=\x22fitXY\x22\x20tint=\x22{{this.tint}}\x22\x20/><text\x20text=\x22{{this.fileName}}\x22\x20h=\x22*\x22\x20textSize=\x2216sp\x22\x20textColor=\x22#373737\x22\x20marginLeft=\x228dp\x22\x20gravity=\x22center\x22\x20maxLines=\x221\x22\x20ellipsize=\x22end\x22\x20/></horizontal></list></vertical>',_0x2915bf['prototype']['selectFile']=function(_0x3a90e7){var _0x1f0ccd=this['view']['fileList']['adapter'],_0x51b494=this['selectedPos'];0x0<=_0x51b494&&(this['data'][_0x51b494]['checked']=!0x1,_0x1f0ccd['notifyItemChanged'](_0x51b494)),this['selectedPos']=_0x3a90e7;},_0x2915bf['prototype']['unselectFile']=function(_0x136cc5){this['selectedPos']==_0x136cc5&&(this['selectedPos']=-0x1);},_0x2915bf['prototype']['listFiles']=function(_0x211ff2){let _0x5e0cc8=this['options'],_0x228da7=_0x5e0cc8['filter']||null;var _0x23a6da=Array['prototype']['map']['call'](files['listDir'](_0x211ff2,_0xa33696=>!_0x228da7||_0x228da7(_0xa33696,_0x211ff2)),_0x108add=>{var _0x3423cd=files['join'](_0x211ff2,_0x108add);return{'fileName':_0x108add,'checkable':(_0x3423cd=files['isDir'](_0x3423cd))?_0x5e0cc8['canChooseDir']:_0x5e0cc8['canChooseFile'],'icon':_0x3423cd?'ic_folder_black_48dp':'ic_insert_drive_file_black_48dp','tint':_0x3423cd?'#ffca28':'#e0e0e0','checked':!0x1,'isDir':_0x3423cd};})['sort'](this['comparator']()),_0xc2668=_0x258b94(this['currentDir']);return null!=_0xc2668&&'/'!=_0xc2668&&'/storage/emulated/'!=_0xc2668&&_0x23a6da['splice'](0x0,0x0,{'fileName':'..','checkable':!0x1,'icon':'ic_folder_black_48dp','tint':'#ffca28','checked':!0x1,'isDir':!0x0}),_0x23a6da;},_0x2915bf['prototype']['comparator']=function(){return(_0x10b78a,_0x22e595)=>_0x10b78a['isDir']!==_0x22e595['isDir']?_0x22e595['isDir']-_0x10b78a['isDir']:_0x10b78a['fileName']['localeCompare'](_0x22e595['fileName']);},_0x2915bf['prototype']['setCurrentDir']=function(_0x12a38a){this['currentDir']=_0x12a38a,this['data']=this['listFiles'](_0x12a38a),this['view']['fileList']['setDataSource'](this['data']);},_0x2915bf['prototype']['getSelectedFile']=function(){return-0x1==this['selectedPos']?this['options']['canChooseDir']?this['currentDir']:null:files['join'](this['currentDir'],this['data'][this['selectedPos']]['fileName']);},_0x2915bf['prototype']['up']=function(){var _0x22c8d4=_0x258b94(this['currentDir']);null!=_0x22c8d4&&'/'!=_0x22c8d4&&'/storage/emulated/'!=_0x22c8d4&&this['setCurrentDir'](_0x22c8d4);},_0x18d3f3['prototype']['fillOptions']=function(){var _0xe0f2a3=this['options'],_0xa7738e=_0xe0f2a3['canChoose']||[];_0xe0f2a3['dir']=files['path'](_0xe0f2a3['dir']),_0xe0f2a3['canChooseFile']=0x0<=_0xa7738e['indexOf']('file'),_0xe0f2a3['canChooseDir']=0x0<=_0xa7738e['indexOf']('dir'),_0xe0f2a3['wrapInScrollView']=!0x1,_0xe0f2a3['title']=_0xe0f2a3['title']||'选择文件(夹)',_0xe0f2a3['positive']=_0xe0f2a3['positive']||'确定';},_0x18d3f3['prototype']['build']=function(){var _0xb7a05c=this['options'];this['fileChooser']=new _0x2915bf(_0xb7a05c),this['fileChooser']['setCurrentDir'](_0xb7a05c['dir']),_0xb7a05c['customView']=this['fileChooser']['view'];let _0x4b3d18=_0xb7a05c['fileCallback'];return dialogs['build'](_0xb7a05c)['on']('positive',()=>{var _0x1b88a9=this['fileChooser']['getSelectedFile']();_0x4b3d18&&_0x4b3d18(_0x1b88a9);});},_0x18d3f3['build']=function(_0x28c173){return new _0x18d3f3(_0x28c173)['build']();},_0x18d3f3;}let $zip=buildZip();function buildZip(){let _0x772218=Packages['net']['lingala']['zip4j']['core']['ZipFile'],_0x5b651b=java['io']['File'],_0x1f6550=java['util']['ArrayList'],_0x5ec718=require('__bridges__'),_0x3e152c=global['files'],_0x39b0c0=Packages['net']['lingala']['zip4j']['util']['Zip4jConstants'];function _0x51036f(_0x967214){let _0x4810c9=_0x3e152c['path'](_0x967214),_0x3c7ca8=new _0x772218(_0x4810c9);this['setFileNameCharset']=function(_0x4ca045){_0x3c7ca8['setFileNameCharset'](_0x4ca045);},this['buildZipParameters']=function(_0x1f7039){var _0x4849f8=new Packages['net']['lingala']['zip4j']['model']['ZipParameters']();if(_0x1f7039){for(var _0x1a8753 in('string'==typeof(_0x1f7039=Object['assign']({},_0x1f7039))['password']&&(_0x1f7039['password']=new java['lang']['String'](_0x1f7039['password'])['toCharArray']()),'string'==typeof _0x1f7039['compressionMethod']&&(_0x1f7039['compressionMethod']=this['parseConstanst'](_0x1f7039['compressionMethod'])),'string'==typeof _0x1f7039['encryptionMethod']&&(_0x1f7039['encryptionMethod']=this['parseConstanst'](_0x1f7039['encryptionMethod'])),'string'==typeof _0x1f7039['aesKeyStrength']&&(_0x1f7039['aesKeyStrength']=this['parseConstanst'](_0x1f7039['aesKeyStrength'])),void 0x0!==_0x1f7039['password']&&(_0x1f7039['encryptFiles']=!0x0,_0x1f7039['encryptionMethod']=_0x1f7039['encryptionMethod']||_0x39b0c0['ENC_METHOD_AES'],_0x1f7039['aesKeyStrength']=_0x1f7039['aesKeyStrength']||_0x39b0c0['AES_STRENGTH_256']),_0x1f7039))_0x1f7039['hasOwnProperty'](_0x1a8753)&&(_0x4849f8[_0x1a8753]=_0x1f7039[_0x1a8753]);}return _0x4849f8;},this['parseConstanst']=function(_0x31d299){return _0x39b0c0[_0x31d299['toUpperCase']()];},this['buildUnzipParameters']=function(_0x5276ed){let _0x102dce=new Packages['net']['lingala']['zip4j']['model']['UnzipParameters']();if(_0x5276ed&&_0x5276ed['ignoreAttribute']){if(!Array['isArray'](_0x5276ed['ignoreAttribute']))throw new TypeError();_0x5276ed['ignoreAttribute']['forEach'](_0x59c467=>{'dateTime'===_0x59c467?_0x102dce['ignoreDateTimeAttributes']=!0x0:(_0x59c467=_0x59c467['substring'](0x0,0x1)['toUpperCase']()+_0x59c467['substring'](0x1),_0x102dce['ignore'+_0x59c467+'FileAttribute']=!0x0);});}return _0x102dce;},this['addFile']=function(_0x518cfd,_0x48c18a){_0x3c7ca8['addFile'](new _0x5b651b(_0x3e152c['path'](_0x518cfd)),this['buildZipParameters'](_0x48c18a));},this['addFiles']=function(_0x2ab8e6,_0x36902c){let _0x5abfab=new _0x1f6550();_0x2ab8e6['forEach'](_0xb15eb5=>{_0x5abfab['add'](new _0x5b651b(_0x3e152c['path'](_0xb15eb5)));}),_0x3c7ca8['addFiles'](_0x5abfab,this['buildZipParameters'](_0x36902c));},this['addFolder']=function(_0x322f6e,_0x1be44f){_0x3c7ca8['addFolder'](new _0x5b651b(_0x3e152c['path'](_0x322f6e)),this['buildZipParameters'](_0x1be44f));},this['extractAll']=function(_0x4c82ad,_0xdad482){_0x3c7ca8['extractAll'](_0x3e152c['path'](_0x4c82ad),this['buildUnzipParameters'](_0xdad482));},this['extractFile']=function(_0x5d4aa4,_0x8c4bcd,_0x8066d8,_0x910810){_0x910810=void 0x0===_0x910810?null:_0x910810,_0x3c7ca8['extractFile'](_0x5d4aa4,_0x3e152c['path'](_0x8c4bcd),this['buildUnzipParameters'](_0x8066d8),_0x910810);},this['setPassword']=function(_0x38c6fd){_0x3c7ca8['setPassword'](_0x38c6fd);},this['getFileHeader']=function(_0x19c9e9){return _0x3c7ca8['getFileHeader'](_0x19c9e9);},this['getFileHeaders']=function(){return _0x5ec718['toArray'](_0x3c7ca8['getFileHeaders']());},this['isEncrypted']=function(){return _0x3c7ca8['isEncrypted']();},this['removeFile']=function(_0x106e07){_0x3c7ca8['removeFile'](_0x106e07);},this['isValidZipFile']=function(){return _0x3c7ca8['isValidZipFile']();},this['getPath']=function(){return _0x4810c9;},this['getZip']=function(){return _0x3c7ca8;};}return new function(){this['open']=function(_0x477dd1){return new _0x51036f(_0x477dd1);},this['zipFile']=function(_0x547f4c,_0xf69e74,_0x40e986){return(_0xf69e74=new _0x51036f(_0xf69e74))['getZip']()['createZipFile'](new _0x5b651b(_0x3e152c['path'](_0x547f4c)),this['buildZipParameters'](_0x40e986)),_0xf69e74;},this['zipDir']=function(_0x46d5ce,_0x1cb7a2,_0x3b2c93){return(_0x1cb7a2=new _0x51036f(_0x1cb7a2))['getZip']()['createZipFileFromFolder'](_0x3e152c['path'](_0x46d5ce),this['buildZipParameters'](_0x3b2c93),!0x1,-0x1),_0x1cb7a2;},this['zipFiles']=function(_0x34b3f8,_0x2d0032,_0x2ba125){let _0x28572b=new _0x1f6550();return _0x34b3f8['forEach'](_0x4d69a2=>{_0x28572b['add'](new _0x5b651b(_0x3e152c['path'](_0x4d69a2)));}),(_0x34b3f8=new _0x51036f(_0x2d0032))['getZip']()['createZipFile'](_0x28572b,this['buildZipParameters'](_0x2ba125)),_0x34b3f8;},this['unzip']=function(_0x30711d,_0x9dddb8,_0x21ad01){_0x30711d=new _0x51036f(_0x30711d),_0x21ad01&&void 0x0!==_0x21ad01['password']&&_0x30711d['setPassword'](_0x21ad01['password']),_0x21ad01&&void 0x0!==_0x21ad01['fileNameCharset']&&_0x30711d['setFileNameCharset'](_0x21ad01['fileNameCharset']),_0x30711d['extractAll'](_0x9dddb8,_0x21ad01);};}();}FileSelector['build']({'title':'请选择内测zip文件','dir':files['cwd'](),'canChoose':['file'],'filter':(_0x3f4f71,_0x158f85)=>_0x3f4f71['endsWith']('.zip')||files['isDir'](files['join'](_0x158f85,_0x3f4f71)),'fileCallback':_0x33205a=>{_0x33205a||toastLog('未选择zip文件'),files['exists'](_0x33205a)||(console['error']('文件路径不存在：',_0x33205a),toastLog('内测文件不存在，请确认'),exit()),FileSelector['build']({'title':'请选择解压所在文件夹','dir':files['cwd'](),'canChoose':['dir'],'filter':(_0x216266,_0x4faf26)=>files['isDir'](files['join'](_0x4faf26,_0x216266)),'fileCallback':_0x25822a=>{_0x25822a?dialogs['build']({'title':'解压确认','content':'将解压并覆盖到：'+_0x25822a,'positive':'确认','positiveColor':'#f9a01c','negative':'取消','negativeColor':'red','cancelable':!0x1})['on']('positive',()=>{threads['start'](function(){var _0xc2bfe0=new Date(),_0x2fa8ea=(toastLog('解压中，请稍等'),dialogs['build']({'cancelable':!0x1,'negative':'取消','title':'正在解压','content':'解压中，请稍等...'})['on']('negative',()=>{exit();})['show']());$zip['unzip'](_0x33205a,_0x25822a,{'fileNameCharset':'utf-8'}),toastLog('解压完毕耗时'+(new Date()-_0xc2bfe0)+'ms'),_0x2fa8ea['dismiss']();});})['on']('negative',()=>{exit();})['show']():toastLog('未选择解压文件夹');}})['show']();}})['show']();