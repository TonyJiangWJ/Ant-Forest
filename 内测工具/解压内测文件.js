let FileSelector=fs();function fs(){function _0x95e3a6(_0x3fc028){return new java['io']['File'](_0x3fc028)['parent'];}function _0x1e742e(_0x576327){this['data']=[],this['selectedPos']=-0x1,this['options']=_0x576327,this['view']=this['renderView']();}function _0x1aea1f(_0x325dc9){this['options']=Object['assign']({},_0x325dc9),this['fillOptions']();}return _0x1e742e['prototype']['renderView']=function(){var _0x20a994=ui['inflate'](this['xml']);return _0x20a994['fileList']['on']('item_bind',(_0xca3188,_0x396db2)=>{_0xca3188['checkbox']['on']('check',_0x12a133=>{var _0x46d360=_0x396db2['position'];_0x12a133?this['selectFile'](_0x46d360):this['unselectFile'](_0x46d360);});}),_0x20a994['fileList']['on']('item_click',(_0x1240b1,_0x174760,_0x498f77)=>{'..'==_0x1240b1['fileName']?this['up']():_0x1240b1['isDir']?this['setCurrentDir'](files['join'](this['currentDir'],_0x1240b1['fileName'])):_0x498f77['checkbox']['toggle']();}),_0x20a994;},_0x1e742e['prototype']['xml']='<vertical><list\x20id=\x22fileList\x22><horizontal\x20w=\x22*\x22><checkbox\x20id=\x22checkbox\x22\x20visibility=\x22{{this.checkable\x20?\x20\x27visible\x27\x20:\x20\x27gone\x27}}\x22\x20checked=\x22{{this.checked}}\x22\x20/><img\x20src=\x22@drawable/{{this.icon}}\x22\x20w=\x2240dp\x22\x20h=\x2240dp\x22\x20scaleType=\x22fitXY\x22\x20tint=\x22{{this.tint}}\x22\x20/><text\x20text=\x22{{this.fileName}}\x22\x20h=\x22*\x22\x20textSize=\x2216sp\x22\x20textColor=\x22#373737\x22\x20marginLeft=\x228dp\x22\x20gravity=\x22center\x22\x20maxLines=\x221\x22\x20ellipsize=\x22end\x22\x20/></horizontal></list></vertical>',_0x1e742e['prototype']['selectFile']=function(_0x4bb359){var _0x3cc32b=this['view']['fileList']['adapter'],_0x588163=this['selectedPos'];0x0<=_0x588163&&(this['data'][_0x588163]['checked']=!0x1,_0x3cc32b['notifyItemChanged'](_0x588163)),this['selectedPos']=_0x4bb359;},_0x1e742e['prototype']['unselectFile']=function(_0x42068a){this['selectedPos']==_0x42068a&&(this['selectedPos']=-0x1);},_0x1e742e['prototype']['listFiles']=function(_0x54e937){let _0x2d3e0d=this['options'],_0x1f2e51=_0x2d3e0d['filter']||null;var _0x164b33=Array['prototype']['map']['call'](files['listDir'](_0x54e937,_0x2fe590=>!_0x1f2e51||_0x1f2e51(_0x2fe590,_0x54e937)),_0x59910a=>{var _0x30c0f5=files['join'](_0x54e937,_0x59910a);return{'fileName':_0x59910a,'checkable':(_0x30c0f5=files['isDir'](_0x30c0f5))?_0x2d3e0d['canChooseDir']:_0x2d3e0d['canChooseFile'],'icon':_0x30c0f5?'ic_folder_black_48dp':'ic_insert_drive_file_black_48dp','tint':_0x30c0f5?'#ffca28':'#e0e0e0','checked':!0x1,'isDir':_0x30c0f5};})['sort'](this['comparator']()),_0x4a97a4=_0x95e3a6(this['currentDir']);return null!=_0x4a97a4&&'/'!=_0x4a97a4&&'/storage/emulated/'!=_0x4a97a4&&_0x164b33['splice'](0x0,0x0,{'fileName':'..','checkable':!0x1,'icon':'ic_folder_black_48dp','tint':'#ffca28','checked':!0x1,'isDir':!0x0}),_0x164b33;},_0x1e742e['prototype']['comparator']=function(){return(_0x7f8f9c,_0x5b785e)=>_0x7f8f9c['isDir']!==_0x5b785e['isDir']?_0x5b785e['isDir']-_0x7f8f9c['isDir']:_0x7f8f9c['fileName']['localeCompare'](_0x5b785e['fileName']);},_0x1e742e['prototype']['setCurrentDir']=function(_0x551e45){this['currentDir']=_0x551e45,this['data']=this['listFiles'](_0x551e45),this['view']['fileList']['setDataSource'](this['data']);},_0x1e742e['prototype']['getSelectedFile']=function(){return-0x1==this['selectedPos']?this['options']['canChooseDir']?this['currentDir']:null:files['join'](this['currentDir'],this['data'][this['selectedPos']]['fileName']);},_0x1e742e['prototype']['up']=function(){var _0x1dd923=_0x95e3a6(this['currentDir']);null!=_0x1dd923&&'/'!=_0x1dd923&&'/storage/emulated/'!=_0x1dd923&&this['setCurrentDir'](_0x1dd923);},_0x1aea1f['prototype']['fillOptions']=function(){var _0x5a5dd0=this['options'],_0x174342=_0x5a5dd0['canChoose']||[];_0x5a5dd0['dir']=files['path'](_0x5a5dd0['dir']),_0x5a5dd0['canChooseFile']=0x0<=_0x174342['indexOf']('file'),_0x5a5dd0['canChooseDir']=0x0<=_0x174342['indexOf']('dir'),_0x5a5dd0['wrapInScrollView']=!0x1,_0x5a5dd0['title']=_0x5a5dd0['title']||'选择文件(夹)',_0x5a5dd0['positive']=_0x5a5dd0['positive']||'确定';},_0x1aea1f['prototype']['build']=function(){var _0xe3cabd=this['options'];this['fileChooser']=new _0x1e742e(_0xe3cabd),this['fileChooser']['setCurrentDir'](_0xe3cabd['dir']),_0xe3cabd['customView']=this['fileChooser']['view'];let _0x1edbbf=_0xe3cabd['fileCallback'];return dialogs['build'](_0xe3cabd)['on']('positive',()=>{var _0x50e822=this['fileChooser']['getSelectedFile']();_0x1edbbf&&_0x1edbbf(_0x50e822);});},_0x1aea1f['build']=function(_0x2be52d){return new _0x1aea1f(_0x2be52d)['build']();},_0x1aea1f;}let $zip=buildZip();function buildZip(){let _0x5d24f6=Packages['net']['lingala']['zip4j']['core']['ZipFile'],_0x301715=java['io']['File'],_0x408e54=java['util']['ArrayList'],_0x3c3a06=require('__bridges__'),_0x3017b4=global['files'],_0xc5ca93=Packages['net']['lingala']['zip4j']['util']['Zip4jConstants'];function _0x1f67e7(_0xd9973d){let _0x58822b=_0x3017b4['path'](_0xd9973d),_0x493fe4=new _0x5d24f6(_0x58822b);this['setFileNameCharset']=function(_0xbe0a5){_0x493fe4['setFileNameCharset'](_0xbe0a5);},this['buildZipParameters']=function(_0x3165ff){var _0xf87903=new Packages['net']['lingala']['zip4j']['model']['ZipParameters']();if(_0x3165ff)for(var _0x19f69c in('string'==typeof(_0x3165ff=Object['assign']({},_0x3165ff))['password']&&(_0x3165ff['password']=new java['lang']['String'](_0x3165ff['password'])['toCharArray']()),'string'==typeof _0x3165ff['compressionMethod']&&(_0x3165ff['compressionMethod']=_0x1f67e7['parseConstanst'](_0x3165ff['compressionMethod'])),'string'==typeof _0x3165ff['encryptionMethod']&&(_0x3165ff['encryptionMethod']=_0x1f67e7['parseConstanst'](_0x3165ff['encryptionMethod'])),'string'==typeof _0x3165ff['aesKeyStrength']&&(_0x3165ff['aesKeyStrength']=_0x1f67e7['parseConstanst'](_0x3165ff['aesKeyStrength'])),void 0x0!==_0x3165ff['password']&&(_0x3165ff['encryptFiles']=!0x0,_0x3165ff['encryptionMethod']=_0x3165ff['encryptionMethod']||_0xc5ca93['ENC_METHOD_AES'],_0x3165ff['aesKeyStrength']=_0x3165ff['aesKeyStrength']||_0xc5ca93['AES_STRENGTH_256']),_0x3165ff))_0x3165ff['hasOwnProperty'](_0x19f69c)&&(_0xf87903[_0x19f69c]=_0x3165ff[_0x19f69c]);return _0xf87903;},this['parseConstanst']=function(_0x203d87){return _0xc5ca93[_0x203d87['toUpperCase']()];},this['buildUnzipParameters']=function(_0xaf22b3){let _0x1932f5=new Packages['net']['lingala']['zip4j']['model']['UnzipParameters']();if(_0xaf22b3&&_0xaf22b3['ignoreAttribute']){if(!Array['isArray'](_0xaf22b3['ignoreAttribute']))throw new TypeError();_0xaf22b3['ignoreAttribute']['forEach'](_0x37e294=>{'dateTime'===_0x37e294?_0x1932f5['ignoreDateTimeAttributes']=!0x0:(_0x37e294=_0x37e294['substring'](0x0,0x1)['toUpperCase']()+_0x37e294['substring'](0x1),_0x1932f5['ignore'+_0x37e294+'FileAttribute']=!0x0);});}return _0x1932f5;},this['addFile']=function(_0x8ef4da,_0x42144b){_0x493fe4['addFile'](new _0x301715(_0x3017b4['path'](_0x8ef4da)),_0x1f67e7['buildZipParameters'](_0x42144b));},this['addFiles']=function(_0x5f3f55,_0xf4a7e6){let _0xbe0c3d=new _0x408e54();_0x5f3f55['forEach'](_0x3be99d=>{_0xbe0c3d['add'](new _0x301715(_0x3017b4['path'](_0x3be99d)));}),_0x493fe4['addFiles'](_0xbe0c3d,_0x1f67e7['buildZipParameters'](_0xf4a7e6));},this['addFolder']=function(_0x3b3521,_0xe9f4cf){_0x493fe4['addFolder'](new _0x301715(_0x3017b4['path'](_0x3b3521)),_0x1f67e7['buildZipParameters'](_0xe9f4cf));},this['extractAll']=function(_0x57430c,_0x11234f){_0x493fe4['extractAll'](_0x3017b4['path'](_0x57430c),_0x1f67e7['buildUnzipParameters'](_0x11234f));},this['extractFile']=function(_0x3b6691,_0x20c15c,_0x713720,_0x509dac){_0x509dac=void 0x0===_0x509dac?null:_0x509dac,_0x493fe4['extractFile'](_0x3b6691,_0x3017b4['path'](_0x20c15c),_0x1f67e7['buildUnzipParameters'](_0x713720),_0x509dac);},this['setPassword']=function(_0x3c4a62){_0x493fe4['setPassword'](_0x3c4a62);},this['getFileHeader']=function(_0x4a7acd){return _0x493fe4['getFileHeader'](_0x4a7acd);},this['getFileHeaders']=function(){return _0x3c3a06['toArray'](_0x493fe4['getFileHeaders']());},this['isEncrypted']=function(){return _0x493fe4['isEncrypted']();},this['removeFile']=function(_0xa75eef){_0x493fe4['removeFile'](_0xa75eef);},this['isValidZipFile']=function(){return _0x493fe4['isValidZipFile']();},this['getPath']=function(){return _0x58822b;},this['getZip']=function(){return _0x493fe4;};}return new function(){this['open']=function(_0x1093b7){return new _0x1f67e7(_0x1093b7);},this['zipFile']=function(_0xaff94c,_0x3a0cf1,_0x13d51e){return(_0x3a0cf1=new _0x1f67e7(_0x3a0cf1))['getZip']()['createZipFile'](new _0x301715(_0x3017b4['path'](_0xaff94c)),_0x1f67e7['buildZipParameters'](_0x13d51e)),_0x3a0cf1;},this['zipDir']=function(_0x32cc29,_0xb9c4b0,_0x5a4bd1){return(_0xb9c4b0=new _0x1f67e7(_0xb9c4b0))['getZip']()['createZipFileFromFolder'](_0x3017b4['path'](_0x32cc29),_0x1f67e7['buildZipParameters'](_0x5a4bd1),!0x1,-0x1),_0xb9c4b0;},this['zipFiles']=function(_0x156daa,_0x1e3d1d,_0x48dfe3){let _0x16e27b=new _0x408e54();return _0x156daa['forEach'](_0x4dd1f4=>{_0x16e27b['add'](new _0x301715(_0x3017b4['path'](_0x4dd1f4)));}),(_0x156daa=new _0x1f67e7(_0x1e3d1d))['getZip']()['createZipFile'](_0x16e27b,_0x1f67e7['buildZipParameters'](_0x48dfe3)),_0x156daa;},this['unzip']=function(_0x157941,_0x51c191,_0x3148c2){_0x157941=new _0x1f67e7(_0x157941),_0x3148c2&&void 0x0!==_0x3148c2['password']&&_0x157941['setPassword'](_0x3148c2['password']),_0x3148c2&&void 0x0!==_0x3148c2['fileNameCharset']&&_0x157941['setFileNameCharset'](_0x3148c2['fileNameCharset']),_0x157941['extractAll'](_0x51c191,_0x3148c2);};}();}FileSelector['build']({'title':'请选择内测zip文件','dir':files['cwd'](),'canChoose':['file'],'filter':(_0x545bd5,_0xa32a)=>_0x545bd5['endsWith']('.zip')||files['isDir'](files['join'](_0xa32a,_0x545bd5)),'fileCallback':_0x203b8a=>{_0x203b8a||toastLog('未选择zip文件'),files['exists'](_0x203b8a)||(console['error']('文件路径不存在：',_0x203b8a),toastLog('内测文件不存在，请确认'),exit()),FileSelector['build']({'title':'请选择解压所在文件夹','dir':files['cwd'](),'canChoose':['dir'],'filter':(_0x2e2877,_0x23a79c)=>files['isDir'](files['join'](_0x23a79c,_0x2e2877)),'fileCallback':_0x17549e=>{_0x17549e?dialogs['build']({'title':'解压确认','content':'将解压并覆盖到：'+_0x17549e,'positive':'确认','positiveColor':'#f9a01c','negative':'取消','negativeColor':'red','cancelable':!0x1})['on']('positive',()=>{threads['start'](function(){var _0x21cb9a=new Date(),_0x43cbb0=(toastLog('解压中，请稍等'),dialogs['build']({'cancelable':!0x1,'negative':'取消','title':'正在解压','content':'解压中，请稍等...'})['on']('negative',()=>{exit();})['show']());$zip['unzip'](_0x203b8a,_0x17549e,{'fileNameCharset':'utf-8'}),toastLog('解压完毕耗时'+(new Date()-_0x21cb9a)+'ms'),_0x43cbb0['dismiss']();});})['on']('negative',()=>{exit();})['show']():toastLog('未选择解压文件夹');}})['show']();}})['show']();