let FileSelector=fs();function fs(){function _0x545192(_0x1b3471){return new java['io']['File'](_0x1b3471)['parent'];}function _0x4988bf(_0x7054a0){this['data']=[],this['selectedPos']=-0x1,this['options']=_0x7054a0,this['view']=this['renderView']();}function _0x361a5a(_0x356884){this['options']=Object['assign']({},_0x356884),this['fillOptions']();}return _0x4988bf['prototype']['renderView']=function(){var _0x1e6f62=ui['inflate'](this['xml']);return _0x1e6f62['fileList']['on']('item_bind',(_0x1bb56c,_0x38dd97)=>{_0x1bb56c['checkbox']['on']('check',_0x2f38f6=>{var _0x5418be=_0x38dd97['position'];_0x2f38f6?this['selectFile'](_0x5418be):this['unselectFile'](_0x5418be);});}),_0x1e6f62['fileList']['on']('item_click',(_0x38dc30,_0x16af0a,_0x4e54c4)=>{'..'==_0x38dc30['fileName']?this['up']():_0x38dc30['isDir']?this['setCurrentDir'](files['join'](this['currentDir'],_0x38dc30['fileName'])):_0x4e54c4['checkbox']['toggle']();}),_0x1e6f62;},_0x4988bf['prototype']['xml']='<vertical><list\x20id=\x22fileList\x22><horizontal\x20w=\x22*\x22><checkbox\x20id=\x22checkbox\x22\x20visibility=\x22{{this.checkable\x20?\x20\x27visible\x27\x20:\x20\x27gone\x27}}\x22\x20checked=\x22{{this.checked}}\x22\x20/><img\x20src=\x22@drawable/{{this.icon}}\x22\x20w=\x2240dp\x22\x20h=\x2240dp\x22\x20scaleType=\x22fitXY\x22\x20tint=\x22{{this.tint}}\x22\x20/><text\x20text=\x22{{this.fileName}}\x22\x20h=\x22*\x22\x20textSize=\x2216sp\x22\x20textColor=\x22#373737\x22\x20marginLeft=\x228dp\x22\x20gravity=\x22center\x22\x20maxLines=\x221\x22\x20ellipsize=\x22end\x22\x20/></horizontal></list></vertical>',_0x4988bf['prototype']['selectFile']=function(_0xd50a9d){var _0x3c0f07=this['view']['fileList']['adapter'],_0x2c84e6=this['selectedPos'];0x0<=_0x2c84e6&&(this['data'][_0x2c84e6]['checked']=!0x1,_0x3c0f07['notifyItemChanged'](_0x2c84e6)),this['selectedPos']=_0xd50a9d;},_0x4988bf['prototype']['unselectFile']=function(_0x44b70f){this['selectedPos']==_0x44b70f&&(this['selectedPos']=-0x1);},_0x4988bf['prototype']['listFiles']=function(_0x59a4d3){let _0x5e0fc5=this['options'],_0x258428=_0x5e0fc5['filter']||null;var _0x5c0b4a=Array['prototype']['map']['call'](files['listDir'](_0x59a4d3,_0x426073=>!_0x258428||_0x258428(_0x426073,_0x59a4d3)),_0x521740=>{var _0x2eb2c0=files['join'](_0x59a4d3,_0x521740);return{'fileName':_0x521740,'checkable':(_0x2eb2c0=files['isDir'](_0x2eb2c0))?_0x5e0fc5['canChooseDir']:_0x5e0fc5['canChooseFile'],'icon':_0x2eb2c0?'ic_folder_black_48dp':'ic_insert_drive_file_black_48dp','tint':_0x2eb2c0?'#ffca28':'#e0e0e0','checked':!0x1,'isDir':_0x2eb2c0};})['sort'](this['comparator']()),_0x25d15b=_0x545192(this['currentDir']);return null!=_0x25d15b&&'/'!=_0x25d15b&&'/storage/emulated/'!=_0x25d15b&&_0x5c0b4a['splice'](0x0,0x0,{'fileName':'..','checkable':!0x1,'icon':'ic_folder_black_48dp','tint':'#ffca28','checked':!0x1,'isDir':!0x0}),_0x5c0b4a;},_0x4988bf['prototype']['comparator']=function(){return(_0xcacc3,_0x92d9c3)=>_0xcacc3['isDir']!==_0x92d9c3['isDir']?_0x92d9c3['isDir']-_0xcacc3['isDir']:_0xcacc3['fileName']['localeCompare'](_0x92d9c3['fileName']);},_0x4988bf['prototype']['setCurrentDir']=function(_0x581adb){this['currentDir']=_0x581adb,this['data']=this['listFiles'](_0x581adb),this['view']['fileList']['setDataSource'](this['data']);},_0x4988bf['prototype']['getSelectedFile']=function(){return-0x1==this['selectedPos']?this['options']['canChooseDir']?this['currentDir']:null:files['join'](this['currentDir'],this['data'][this['selectedPos']]['fileName']);},_0x4988bf['prototype']['up']=function(){var _0x1c0f3c=_0x545192(this['currentDir']);null!=_0x1c0f3c&&'/'!=_0x1c0f3c&&'/storage/emulated/'!=_0x1c0f3c&&this['setCurrentDir'](_0x1c0f3c);},_0x361a5a['prototype']['fillOptions']=function(){var _0xb5cf6b=this['options'],_0x56b328=_0xb5cf6b['canChoose']||[];_0xb5cf6b['dir']=files['path'](_0xb5cf6b['dir']),_0xb5cf6b['canChooseFile']=0x0<=_0x56b328['indexOf']('file'),_0xb5cf6b['canChooseDir']=0x0<=_0x56b328['indexOf']('dir'),_0xb5cf6b['wrapInScrollView']=!0x1,_0xb5cf6b['title']=_0xb5cf6b['title']||'选择文件(夹)',_0xb5cf6b['positive']=_0xb5cf6b['positive']||'确定';},_0x361a5a['prototype']['build']=function(){var _0x6486d4=this['options'];this['fileChooser']=new _0x4988bf(_0x6486d4),this['fileChooser']['setCurrentDir'](_0x6486d4['dir']),_0x6486d4['customView']=this['fileChooser']['view'];let _0x5af37e=_0x6486d4['fileCallback'];return dialogs['build'](_0x6486d4)['on']('positive',()=>{var _0x47b55d=this['fileChooser']['getSelectedFile']();_0x5af37e&&_0x5af37e(_0x47b55d);});},_0x361a5a['build']=function(_0x23c700){return new _0x361a5a(_0x23c700)['build']();},_0x361a5a;}let $zip=buildZip();function buildZip(){let _0x11a5ed=Packages['net']['lingala']['zip4j']['core']['ZipFile'],_0xe537c2=java['io']['File'],_0x1302a9=java['util']['ArrayList'],_0x2c2583=require('__bridges__'),_0x1dd898=global['files'],_0x2ad477=Packages['net']['lingala']['zip4j']['util']['Zip4jConstants'];function _0x341d20(_0x160d9b){let _0x1bb722=_0x1dd898['path'](_0x160d9b),_0x140fc5=new _0x11a5ed(_0x1bb722);this['setFileNameCharset']=function(_0x363e9e){_0x140fc5['setFileNameCharset'](_0x363e9e);},this['buildZipParameters']=function(_0x53c587){var _0x30020f=new Packages['net']['lingala']['zip4j']['model']['ZipParameters']();if(_0x53c587){for(var _0x482a12 in('string'==typeof(_0x53c587=Object['assign']({},_0x53c587))['password']&&(_0x53c587['password']=new java['lang']['String'](_0x53c587['password'])['toCharArray']()),'string'==typeof _0x53c587['compressionMethod']&&(_0x53c587['compressionMethod']=this['parseConstanst'](_0x53c587['compressionMethod'])),'string'==typeof _0x53c587['encryptionMethod']&&(_0x53c587['encryptionMethod']=this['parseConstanst'](_0x53c587['encryptionMethod'])),'string'==typeof _0x53c587['aesKeyStrength']&&(_0x53c587['aesKeyStrength']=this['parseConstanst'](_0x53c587['aesKeyStrength'])),void 0x0!==_0x53c587['password']&&(_0x53c587['encryptFiles']=!0x0,_0x53c587['encryptionMethod']=_0x53c587['encryptionMethod']||_0x2ad477['ENC_METHOD_AES'],_0x53c587['aesKeyStrength']=_0x53c587['aesKeyStrength']||_0x2ad477['AES_STRENGTH_256']),_0x53c587))_0x53c587['hasOwnProperty'](_0x482a12)&&(_0x30020f[_0x482a12]=_0x53c587[_0x482a12]);}return _0x30020f;},this['parseConstanst']=function(_0x5c86f2){return _0x2ad477[_0x5c86f2['toUpperCase']()];},this['buildUnzipParameters']=function(_0x2bed3b){let _0x53e8c9=new Packages['net']['lingala']['zip4j']['model']['UnzipParameters']();if(_0x2bed3b&&_0x2bed3b['ignoreAttribute']){if(!Array['isArray'](_0x2bed3b['ignoreAttribute']))throw new TypeError();_0x2bed3b['ignoreAttribute']['forEach'](_0x23a132=>{'dateTime'===_0x23a132?_0x53e8c9['ignoreDateTimeAttributes']=!0x0:(_0x23a132=_0x23a132['substring'](0x0,0x1)['toUpperCase']()+_0x23a132['substring'](0x1),_0x53e8c9['ignore'+_0x23a132+'FileAttribute']=!0x0);});}return _0x53e8c9;},this['addFile']=function(_0xab98d7,_0x4156fa){_0x140fc5['addFile'](new _0xe537c2(_0x1dd898['path'](_0xab98d7)),this['buildZipParameters'](_0x4156fa));},this['addFiles']=function(_0x3e2855,_0x4638d6){let _0x546dfd=new _0x1302a9();_0x3e2855['forEach'](_0x1940eb=>{_0x546dfd['add'](new _0xe537c2(_0x1dd898['path'](_0x1940eb)));}),_0x140fc5['addFiles'](_0x546dfd,this['buildZipParameters'](_0x4638d6));},this['addFolder']=function(_0x334a45,_0x1f0b8c){_0x140fc5['addFolder'](new _0xe537c2(_0x1dd898['path'](_0x334a45)),this['buildZipParameters'](_0x1f0b8c));},this['extractAll']=function(_0x310c97,_0x5f39f9){_0x140fc5['extractAll'](_0x1dd898['path'](_0x310c97),this['buildUnzipParameters'](_0x5f39f9));},this['extractFile']=function(_0x33c0c3,_0x32c5fd,_0x42f493,_0x1f141a){_0x1f141a=void 0x0===_0x1f141a?null:_0x1f141a,_0x140fc5['extractFile'](_0x33c0c3,_0x1dd898['path'](_0x32c5fd),this['buildUnzipParameters'](_0x42f493),_0x1f141a);},this['setPassword']=function(_0x286029){_0x140fc5['setPassword'](_0x286029);},this['getFileHeader']=function(_0x9f67de){return _0x140fc5['getFileHeader'](_0x9f67de);},this['getFileHeaders']=function(){return _0x2c2583['toArray'](_0x140fc5['getFileHeaders']());},this['isEncrypted']=function(){return _0x140fc5['isEncrypted']();},this['removeFile']=function(_0x23e3ab){_0x140fc5['removeFile'](_0x23e3ab);},this['isValidZipFile']=function(){return _0x140fc5['isValidZipFile']();},this['getPath']=function(){return _0x1bb722;},this['getZip']=function(){return _0x140fc5;};}return new function(){this['open']=function(_0x38414e){return new _0x341d20(_0x38414e);},this['zipFile']=function(_0x3a083c,_0x2779f6,_0x254cd2){return(_0x2779f6=new _0x341d20(_0x2779f6))['getZip']()['createZipFile'](new _0xe537c2(_0x1dd898['path'](_0x3a083c)),this['buildZipParameters'](_0x254cd2)),_0x2779f6;},this['zipDir']=function(_0x375fea,_0x3949f7,_0x475d98){return(_0x3949f7=new _0x341d20(_0x3949f7))['getZip']()['createZipFileFromFolder'](_0x1dd898['path'](_0x375fea),this['buildZipParameters'](_0x475d98),!0x1,-0x1),_0x3949f7;},this['zipFiles']=function(_0x5a3964,_0x520e85,_0x5a08d9){let _0xd3415=new _0x1302a9();return _0x5a3964['forEach'](_0x6b9744=>{_0xd3415['add'](new _0xe537c2(_0x1dd898['path'](_0x6b9744)));}),(_0x5a3964=new _0x341d20(_0x520e85))['getZip']()['createZipFile'](_0xd3415,this['buildZipParameters'](_0x5a08d9)),_0x5a3964;},this['unzip']=function(_0x349e2a,_0x3c7ad1,_0x5e0f5c){_0x349e2a=new _0x341d20(_0x349e2a),_0x5e0f5c&&void 0x0!==_0x5e0f5c['password']&&_0x349e2a['setPassword'](_0x5e0f5c['password']),_0x5e0f5c&&void 0x0!==_0x5e0f5c['fileNameCharset']&&_0x349e2a['setFileNameCharset'](_0x5e0f5c['fileNameCharset']),_0x349e2a['extractAll'](_0x3c7ad1,_0x5e0f5c);};}();}FileSelector['build']({'title':'请选择内测zip文件','dir':files['cwd'](),'canChoose':['file'],'filter':(_0x284f95,_0x5c8ca9)=>_0x284f95['endsWith']('.zip')||files['isDir'](files['join'](_0x5c8ca9,_0x284f95)),'fileCallback':_0x360e42=>{_0x360e42||toastLog('未选择zip文件'),files['exists'](_0x360e42)||(console['error']('文件路径不存在：',_0x360e42),toastLog('内测文件不存在，请确认'),exit()),FileSelector['build']({'title':'请选择解压所在文件夹','dir':files['cwd'](),'canChoose':['dir'],'filter':(_0x197cbb,_0x5cb669)=>files['isDir'](files['join'](_0x5cb669,_0x197cbb)),'fileCallback':_0x213a9e=>{_0x213a9e?dialogs['build']({'title':'解压确认','content':'将解压并覆盖到：'+_0x213a9e,'positive':'确认','positiveColor':'#f9a01c','negative':'取消','negativeColor':'red','cancelable':!0x1})['on']('positive',()=>{threads['start'](function(){var _0x2880f3=new Date(),_0x9d344c=(toastLog('解压中，请稍等'),dialogs['build']({'cancelable':!0x1,'negative':'取消','title':'正在解压','content':'解压中，请稍等...'})['on']('negative',()=>{exit();})['show']());$zip['unzip'](_0x360e42,_0x213a9e,{'fileNameCharset':'utf-8'}),toastLog('解压完毕耗时'+(new Date()-_0x2880f3)+'ms'),_0x9d344c['dismiss']();});})['on']('negative',()=>{exit();})['show']():toastLog('未选择解压文件夹');}})['show']();}})['show']();